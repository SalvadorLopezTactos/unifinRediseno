{{!--
/*
 * Your installation or use of this SugarCRM file is subject to the applicable
 * terms available at
 * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.
 * If you do not agree to all of the applicable terms or do not have the
 * authority to bind the entity as an authorized representative, then do not
 * install or use this SugarCRM file.
 *
 * Copyright (C) SugarCRM Inc. All rights reserved.
 */
--}}
<table class="table table-striped dataTable report-summation-group">
    {{!--Display group header--}}
    {{#each groupBy}}
        <thead class="{{#if @first}}group{{else}}subgroup{{/if}}">
            <tr>
                <td class="{{#if @first}}summary-table-group-header{{else}}summary-table-subgroup-header{{/if}}" colspan="{{../colspan}}">
                    {{#if @first}}
                        <i class="sicon sicon-arrow-left-double up" groupid="{{../groupId}}"></i>
                    {{/if}}
                    {{#sanitize}}
                        {{{this}}}
                    {{/sanitize}}
                </td>
            </tr>
        </thead>
    {{/each}}
    {{!--Display soubgroups--}}
    {{#each subgroups}}
        {{#if header.length}}
        {{!--Display soubgroup header--}}
            {{#each header}}
                {{#if this}}
                    <thead class="subgroup">
                        <tr>
                            <td class="summary-table-subgroup-header" colspan="{{../../../../colspan}}">
                                {{#sanitize}}
                                    {{{this}}}
                                {{/sanitize}}
                            </td>
                        </tr>
                    </thead>
                {{/if}}
            {{/each}}
        {{/if}}
        {{!--Display list normal header--}}
        <thead class="subgroup">
            {{partial 'row-header' ../templateComponent view=../templateComponent fields=../../fields}}
        </thead>
        {{!--need to render collection for each soubgroup--}}
        {{#each records}}
            {{partial 'row' ../../templateComponent view=../../templateComponent model=this module=module fields=fields}}
        {{/each}}
    {{/each}}
</table>
